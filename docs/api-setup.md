# üå∏ API Setup - Enhanced Gail Calculator

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∂–µ–Ω—Å–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è **Prevent** —Å Enhanced Gail Calculator.

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ –≤ –ü—É–Ω–∫—Ç–µ 2

### ‚úÖ –§–∞–π–ª—ã API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

1. **`src/config/api.ts`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API endpoints –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
2. **`src/lib/api/http-client.ts`** - HTTP –∫–ª–∏–µ–Ω—Ç —Å –∑–∞–±–æ—Ç–ª–∏–≤—ã–º UX
3. **`src/services/enhanced-gail-calculator.service.ts`** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å
4. **`.env.example`** - –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- üßÆ **Enhanced Gail Calculator API** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Ä–∏—Å–∫–æ–≤
- üß¨ **–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Genotek, Genetico
- ü§ñ **–ò–ò-–∞–Ω–∞–ª–∏–∑** - –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- üì± **–ù–æ—Å–∏–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** - Apple Health, Google Fit, Oura, Whoop
- üåç **–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã** - –∫–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞, –£–§-–∏–∑–ª—É—á–µ–Ω–∏–µ
- üíñ **–ó–∞–±–æ—Ç–ª–∏–≤—ã–π UX** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - HIPAA/GDPR compliance, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
cp .env.example .env.local

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏ –≤ .env.local
NEXT_PUBLIC_API_BASE_URL=http://localhost:3001/api
OPENAI_API_KEY=your_openai_key
GENOTEK_API_KEY=your_genotek_key
# ... –¥—Ä—É–≥–∏–µ –∫–ª—é—á–∏
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```typescript
import { enhancedGailService } from '@/services/enhanced-gail-calculator.service';
import { apiClient } from '@/lib/api/http-client';

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Enhanced Gail Calculator
const calculateRisk = async (patientData) => {
  try {
    const result = await enhancedGailService.calculateRisk(patientData);
    console.log('üíï –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞:', result.data);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
  }
};

// –ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
const uploadGenetics = async (file: File, userId: string) => {
  const result = await enhancedGailService.uploadGeneticData(
    file, 
    userId, 
    'genotek'
  );
  return result;
};
```

### 3. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (TypeScript)

```typescript
import type {
  GailCalculatorInput,
  GailCalculatorResult,
  EnhancedRiskAssessment,
  GeneticRiskFactors,
} from '@/types/gail-calculator';

// –í—Å–µ —Ç–∏–ø—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
```

## üè• –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:

- **–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏**: Genotek, Genetico, 23andMe
- **–ù–æ—Å–∏–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**: Apple Health, Google Fit, Fitbit, Oura, Whoop
- **–ò–ò-–∞–Ω–∞–ª–∏–∑**: OpenAI, Anthropic, Google Cloud Healthcare
- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∂–µ–Ω—â–∏–Ω**: Clue, Flo, Glow, Natural Cycles
- **–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ**: OpenWeather, Air Quality APIs

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
const apiUrl = getApiUrl('GAIL_CALCULATOR'); 
// Development: http://localhost:3001/api/v1/gail-calculator
// Production: https://api.prevent-health.com/v1/gail-calculator

// –ó–∞–±–æ—Ç–ª–∏–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
const headers = getAuthHeaders(userToken);
// –í–∫–ª—é—á–∞–µ—Ç: Content-Type, Authorization, X-Platform, X-Version
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

### HIPAA/GDPR Compliance:

- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π 
- ‚úÖ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ï–°
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

```typescript
// –ó–∞–±–æ—Ç–ª–∏–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
const friendlyMessages = {
  400: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ',
  401: '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É',
  403: '–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏',
  500: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –º—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –µ—ë —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ–º',
};
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- üìà **–¢—Ä–µ–∫–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- üêõ **–û—Ç—á–µ—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Sentry
- üìã **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- üîÑ **Retry –ª–æ–≥–∏–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

## üö¶ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ì–æ—Ç–æ–≤–æ –¥–ª—è –ü—É–Ω–∫—Ç–∞ 3: React Hooks

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å:

1. **`useGailCalculator`** - —Ö—É–∫ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∏—Å–∫–æ–≤
2. **`useGeneticData`** - —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏  
3. **`useWearableSync`** - —Ö—É–∫ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
4. **`usePersonalizedRecommendations`** - —Ö—É–∫ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const { calculateRisk, loading, error } = useGailCalculator();
const { uploadGenetics } = useGeneticData();
const { syncDevice } = useWearableSync();

// –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const handleCalculate = async () => {
  const result = await calculateRisk(formData);
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π loading state –∏ error handling
};
```

## üíñ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**Prevent** —Å–æ–∑–¥–∞–Ω —Å –∑–∞–±–æ—Ç–æ–π –æ –∂–µ–Ω—â–∏–Ω–∞—Ö:

- **–¢–µ–ø–ª—ã–µ —Ü–≤–µ—Ç–∞** - –Ω–µ–∂–Ω–æ-—Ä–æ–∑–æ–≤—ã–π, –ª–∞–≤–∞–Ω–¥–æ–≤—ã–π, –∫–æ—Ä–∞–ª–ª–æ–≤—ã–π
- **–ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - –±–µ–∑ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –∂–∞—Ä–≥–æ–Ω–∞
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - —É—á–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** - –¥–æ—Å—Ç—É–ø–Ω–∞—è –ø–æ–º–æ—â—å –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö](/src/types/gail-calculator.ts)
- [–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã](/src/lib/constants/medical-constants.ts)
- [UI –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã](/src/lib/constants/ui-constants.ts)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](https://api.prevent-health.com/docs)

**–°–æ–∑–¥–∞–Ω–æ —Å üíñ –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è**