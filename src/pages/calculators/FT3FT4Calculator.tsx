
import CalculatorBase from '../../components/calculators/CalculatorBase'

export default function FT3FT4Calculator() {
  const fields = [
    {
      id: 'ft3',
      label: '–°–≤–æ–±–æ–¥–Ω—ã–π T3 (FT3)',
      unit: '–ø–º–æ–ª—å/–ª',
      type: 'number' as const,
      required: true,
      min: 0.1,
      max: 50,
      placeholder: '–ù–∞–ø—Ä–∏–º–µ—Ä: 5.2'
    },
    {
      id: 'ft4',
      label: '–°–≤–æ–±–æ–¥–Ω—ã–π T4 (FT4)',
      unit: '–ø–º–æ–ª—å/–ª',
      type: 'number' as const,
      required: true,
      min: 0.1,
      max: 100,
      placeholder: '–ù–∞–ø—Ä–∏–º–µ—Ä: 16.5'
    }
  ]

  const calculate = (values: Record<string, number>) => {
    const { ft3, ft4 } = values
    const ratio = ft3 / ft4
    
    let interpretation: 'normal' | 'borderline' | 'abnormal' | 'critical'
    let message: string
    let recommendations: string[] = []

    if (ratio < 0.2) {
      interpretation = 'abnormal'
      message = '–ù–∏–∑–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è T4 –≤ T3. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–∏—Ñ–µ—Ä–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π —Ç–∏—Ä–µ–æ–∏–¥–Ω—ã—Ö –≥–æ—Ä–º–æ–Ω–æ–≤.'
      recommendations = [
        '–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã: rT3, —Å–µ–ª–µ–Ω, —Ü–∏–Ω–∫',
        '–û—Ü–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—á–µ–Ω–∏ –∏ –ø–æ—á–µ–∫',
        '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –∏ –≤–æ—Å–ø–∞–ª–µ–Ω–∏—è'
      ]
    } else if (ratio >= 0.2 && ratio <= 0.4) {
      interpretation = 'normal'
      message = '–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è T4 –≤ T3. –ü–µ—Ä–∏—Ñ–µ—Ä–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã.'
      recommendations = [
        '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∑–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏',
        '–†–µ–≥—É–ª—è—Ä–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã'
      ]
    } else {
      interpretation = 'abnormal'
      message = '–ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ FT3/FT4. –í–æ–∑–º–æ–∂–µ–Ω –≥–∏–ø–µ—Ä—Ç–∏—Ä–µ–æ–∑ –∏–ª–∏ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è.'
      recommendations = [
        '–ò—Å–∫–ª—é—á–∏—Ç—å —Ç–∏—Ä–µ–æ—Ç–æ–∫—Å–∏–∫–æ–∑',
        '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω—Ç–∏—Ç–µ–ª–∞ –∫ —Ä–µ—Ü–µ–ø—Ç–æ—Ä–∞–º –¢–¢–ì',
        '–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ü–∏–Ω—Ç–∏–≥—Ä–∞—Ñ–∏—é —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã'
      ]
    }

    return {
      value: ratio.toFixed(3),
      interpretation,
      message,
      recommendations,
      referenceRange: '0.20 - 0.40'
    }
  }

  return (
    <CalculatorBase
      id="ft3-ft4-ratio"
      title="FT3/FT4 –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ"
      description="–û—Ü–µ–Ω–∫–∞ –ø–µ—Ä–∏—Ñ–µ—Ä–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ —Ç–∏—Ä–µ–æ–∏–¥–Ω—ã—Ö –≥–æ—Ä–º–æ–Ω–æ–≤"
      icon="ü¶ã"
      fields={fields}
      calculate={calculate}
      category="thyroid"
      backgroundInfo="–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ FT3/FT4 –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ T4 –≤ –∞–∫—Ç–∏–≤–Ω—ã–π T3 –Ω–∞ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏. –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –∞–¥–µ–∫–≤–∞—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –¥–µ–π–æ–¥–∏–Ω–∞–∑ - —Ñ–µ—Ä–º–µ–Ω—Ç–æ–≤, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—é —Ç–∏—Ä–µ–æ–∏–¥–Ω—ã—Ö –≥–æ—Ä–º–æ–Ω–æ–≤."
    />
  )
}
